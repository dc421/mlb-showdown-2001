- dp then steal (no throwRollResult for defense on the steal if the offensive player has advanced)
    - adv then steal (no throwRollResult for defense on the steal if the offensive player has advanced, game log reveals outcome of advance)
    - ifin then steal -> no throwRollResult, jumped to next at-bat pitcher/batter
    - consecutive steals: not showing throwRollResult, bases jumping early (have writeup below)
- pinch hitter displaying own teams pitcher as opponent before refresh on awaiting lineup change
    - replacement pitcher has to sub for hitter P AND pitching P
- series game stuck on lineup submitted page
#- away team picks dh/no dh before g3
    - make sure sp comes back in g5
- show relievers who are tired AND relievers who pitched last game
    - reliever fatigue (pitched last game indicator? fatigue indicator immediately correct, even after pinch hitter replacement?)
    - reliever game 1 throws til 3 runs score, but pulled before throwing tired pitch - tired next game?
#- previous game lineup assumed for the next game (dh / no dh)



I'm seeing issues when the offensive player steals 2nd, and then after being successful, attempts to steal 3rd before the defensive player reacts to the first steal.

offense hits Steal 2nd
offense sees throwRollResult, defense sees ROLL FOR THROW. offense clicks Steal 3rd.
offense sees Waiting for throw... and defense still sees ROLL FOR THROW on the steal of 2nd base. Defense clicks ROLL FOR THROW.
All correct to this point.

At this point, the offense sees the bases and game log change and the Swing Away button (all correct). The issue is that the offense SHOULD also see the throwRollResult box for the stolen base attempt of 3rd base. As for the defense, they see the game log update correctly and see ROLL FOR THROW on the steal of 3rd, correctly. However, they SHOULD also see the throwRollResult box from the steal of 2nd, and they should see the runner on 2nd base (instead they already see the runner on 3rd base or missing, depending on the result of the steal of 3rd).
After the defense hits ROLL FOR THROW again, everything is fine, except that the defensive player now should see the throwRollResult for the steal of 3rd.


gordon: not tired, 1 inning but didn't throw a pitch in the 2nd (start of 7th)
rivera: not tired, 3 runs but didn't throw a pitch (start of 8th)
santiago: under innings limit (enters after rivera 8th)
replacement pitcher in 10th

tired: r.white (enter in 7th)
henry: inserted and immediately pulled (start of 7th)
telford: didn't enter at all



 - mobile notifications
    - recreate google sheets
    - playoff odds
    - preseason rankings
    - box scores
    - win probability graphs, tracking rolls over time, individual player stats (by advantage etc), saving box scores
    - meta game (league/draft/history etc)
       - wave system banning?





    if (isOutcomeHidden.value) {
      // NEW LOGIC: When the outcome is hidden, we need to decide which "before" state to show.
      // If the opponent has already seen the result and clicked "Next Hitter",
      // we should show the state *before their action*, which is stored in lastCompletedAtBat.
      if (opponentReadyForNext.value) {
        if (gameState.value.lastCompletedAtBat) {
          return gameState.value.lastCompletedAtBat.outsBeforePlay;
        }
      } else {
        // Otherwise, we show the state before the current at-bat began.
        if (gameState.value.currentAtBat) {
          return gameState.value.currentAtBat.outsBeforePlay;
        }
      }
      return 0; // Fallback if neither at-bat object is available
    }


      const rollbackSource = opponentReadyForNext.value ? gameState.value.lastCompletedAtBat : gameState.value.currentAtBat;
      if (rollbackSource && rollbackSource.basesBeforePlay) {
        return {
          ...gameState.value,
          bases: rollbackSource.basesBeforePlay,
          outs: displayOuts.value, // This correctly shows the "before" outs
          homeScore: rollbackSource.homeScoreBeforePlay,
          awayScore: rollbackSource.awayScoreBeforePlay,
          isBetweenHalfInningsAway: false,
          isBetweenHalfInningsHome: false,
        };
      }
